Will Smith was out of line.  Chris Rock handled it well.  He recovered from a humiliating slap on national television in the middle of his act.  You can see from his expression that this was not a staged event.  Wow.  Crazy stuff.